<dialog #dialog>
    <h2>
        {{ profileToEdit() ? 'Edit' : 'Create' }} 
        {{ type() | titlecase }}
    </h2>
    
    <form [formGroup]="form" (ngSubmit)="save()">
        
        <div class="form-group">
            <label>First Name</label>
            <input formControlName="firstName" />
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input formControlName="lastName" />
        </div>

        <div class="form-group">
            <label>Email</label>
            <input formControlName="email" type="email" />
        </div>

        <div class="form-group">
            <label>Phone</label>
            <input formControlName="phone" />
        </div>

        <div class="form-group">
            <label>Department</label>
            <input formControlName="department" />
        </div>

        @if (type() === 'subject') {
            <div style="border-top: 1px solid #eee; margin: 1rem 0; padding-top: 1rem;">
                <div class="form-group">
                    <label>Role</label>
                    <input formControlName="role" />
                </div>
                <div class="form-group">
                    <label>Risk Score</label>
                    <input formControlName="riskScore" type="number" />
                </div>
            </div>
        }

        <div class="actions">
        <button type="button" class="cancel" (click)="closeDialog()">Cancel</button>
        
        <button type="submit" class="primary" [disabled]="form.invalid">
            {{ profileToEdit() ? 'Save Changes' : 'Create' }}
        </button>
        </div>

    </form>
</dialog>